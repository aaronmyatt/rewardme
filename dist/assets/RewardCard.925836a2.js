var j=Object.defineProperty,F=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var S=(e,a,t)=>a in e?j(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,k=(e,a)=>{for(var t in a||(a={}))A.call(a,t)&&S(e,t,a[t]);if(B)for(var t of B(a))M.call(a,t)&&S(e,t,a[t]);return e},q=(e,a)=>F(e,E(a));import{_ as O,a as X}from"./star.5d9291ea.js";import{a9 as _,m as l,ag as x,az as Y,aa as Z,ab as G,ac as H,ad as J,aV as K,af as T,d as P,o as r,f as i,n,a as u,p as m,u as b,r as U,aY as W,N as w,aZ as p,Q as ee,c as Q,O as C,S as g,B as N,P as ae}from"./vendor.2cf8fbd6.js";import{e as R,i as te}from"./index.d3c99cc4.js";const le=["top","middle","bottom"];var re=_({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>le.includes(e)}},setup(e,{slots:a}){const t=l(()=>e.align!==void 0?{verticalAlign:e.align}:null),c=l(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>x("div",{class:c.value,style:t.value,role:"alert","aria-label":e.label},e.label!==void 0?e.label:Y(a.default))}});const ne={xs:2,sm:4,md:6,lg:10,xl:14};function V(e,a,t){return{transform:a===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var oe=_({name:"QLinearProgress",props:q(k(k({},Z),G),{value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean}),setup(e,{slots:a}){const{proxy:t}=T(),c=H(e,t.$q),o=J(e,ne),d=l(()=>e.indeterminate===!0||e.query===!0),v=l(()=>e.reverse!==e.query),s=l(()=>q(k({},o.value!==null?o.value:{}),{"--q-linear-progress-speed":`${e.animationSpeed}ms`})),f=l(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),y=l(()=>V(e.buffer!==void 0?e.buffer:1,v.value,t.$q)),h=l(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${c.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),$=l(()=>V(d.value===!0?1:e.value,v.value,t.$q)),D=l(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${d.value===!0?"in":""}determinate`),I=l(()=>({width:`${e.value*100}%`})),L=l(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const z=[x("div",{class:h.value,style:y.value}),x("div",{class:D.value,style:$.value})];return e.stripe===!0&&d.value===!1&&z.push(x("div",{class:L.value,style:I.value})),x("div",{class:f.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},K(a.default,z))}}});const se={class:"absolute-full flex flex-center"},ie=P({props:{value:{default:0},size:{default:"25px"},label:String,barColor:{default:"green"},badgeColor:{default:"accent"}},setup(e){const a=e,{availablePoints:t}=R(),c=l(()=>t.value/a.value),o=l(()=>a.label||`${t.value} / ${a.value}`);return(d,v)=>(r(),i(oe,{size:e.size||"25px",value:b(c),color:e.barColor,rounded:""},{default:n(()=>[u("div",se,[m(re,{color:"white","text-color":e.badgeColor,label:b(o)},null,8,["text-color","label"])])]),_:1},8,["size","value","color"]))}}),ce={key:0,class:"text-base md:text-xl absolute bottom-0 left-0 text-left capitalize reward-name-container"},de={class:"space-x-4 flex"},ue={class:"name"},me={key:0,class:"text-base md:text-xl"},ge={class:"text-xl md:text-2xl text-left capitalize reward-name-container"},ve={class:"space-x-4 flex"},be={class:"name"},fe={class:"text-base md:text-xl"},ke=P({props:{reward:null,editable:{type:Boolean,default:!0},horizontal:{type:Boolean},showProgress:{type:Boolean,default:!0}},setup(e){const a=e,{claimReward:t,availablePoints:c,claimable:o}=R(),d=U("");W(async()=>{if(a.reward.image!==void 0){const s=await te.getImage(a.reward.image);s&&(d.value=s)}});const v=l(()=>{const s=a.reward.milestone;return`${c.value>s?s:c.value} / ${s}`});return(s,f)=>{const y=O,h=ie,$=X;return r(),i(ae,{class:"rounded-xl"},{default:n(()=>[m(w,{horizontal:e.horizontal,class:"p-0"},{default:n(()=>[m(w,{class:p(["col-4",{"p-0":!e.horizontal}])},{default:n(()=>[m(ee,{class:"rounded-xl",ratio:1,src:d.value,"spinner-color":"primary","spinner-size":"82px"},{default:n(()=>[e.horizontal?g("",!0):(r(),Q("div",ce,[u("div",de,[u("div",ue,C(e.reward.name),1),e.reward.claimed?(r(),i(y,{key:0,class:"claimed text-yellow-400 fill-yellow-400"})):g("",!0)]),e.showProgress?(r(),Q("div",me,C(b(v)),1)):g("",!0)]))]),_:1},8,["src"])]),_:1},8,["class"]),e.horizontal?(r(),i(w,{key:0,class:"col-8 flex items-center"},{default:n(()=>[u("div",ge,[u("div",ve,[u("div",be,C(e.reward.name),1),e.reward.claimed?(r(),i(y,{key:0,class:"claimed text-yellow-400 fill-yellow-400"})):g("",!0)]),u("div",fe,C(b(v)),1)])]),_:1})):g("",!0)]),_:1},8,["horizontal"]),e.showProgress?(r(),i(w,{key:0},{default:n(()=>[b(o)(e.reward)?(r(),i(N,{key:0,class:"w-full",padding:"0px",flat:"",onClick:f[0]||(f[0]=()=>b(t)(e.reward))},{default:n(()=>[m(h,{value:e.reward.milestone,label:e.reward.claimed?"Reset":"Redeem",size:"30px","bar-color":e.reward.claimed?"accent":"green","badge-color":e.reward.claimed?"green":"accent"},null,8,["value","label","bar-color","badge-color"])]),_:1})):(r(),i(h,{key:1,value:e.reward.milestone,label:e.reward.claimed?"Reset":"",size:"30px","bar-color":e.reward.claimed?"accent":"green","badge-color":e.reward.claimed?"green":"accent"},null,8,["value","label","bar-color","badge-color"]))]),_:1})):g("",!0),e.editable?(r(),i(w,{key:1,class:"p-0"},{default:n(()=>[m(N,{class:"absolute top-0 right-0 -translate-y-8","fab-mini":"",color:"primary",to:{name:"rewards-rewardid-edit",params:{rewardid:a.reward.id}}},{default:n(()=>[m($)]),_:1},8,["to"])]),_:1})):g("",!0)]),_:1})}}});export{ke as _};
