import{u as C,i as g,P as N,b as A,c as B,s as y,S as Q}from"./index.f64d7cc5.js";import{d as I,i as U,r as n,a6 as E,e as L,o as _,f as P,w as t,m as e,a as x,u as m,X as O,a7 as T,a8 as q,Q as $,z as V,L as v,N as h,k as z,l as D,j as J,c as K,W as j,E as w,R as M,A as F}from"./vendor.e940c656.js";import{Q as W,a as X}from"./QForm.426ff488.js";const G={class:"flex justify-end pt-4 space-x-2"},H=I({props:{modelValue:{default:{image:"",nickname:"",color:"",hobby:"",dateofbirth:""}}},emits:["submit"],setup(b,{emit:d}){const r=b,o=U(Object.assign({},r.modelValue)),{profileImage:f}=C(),a=n(),i=n();E(a,()=>{const s=new FileReader;s.readAsDataURL(a.value),s.onload=async()=>{await g.setImage(a.value.name,s.result),i.value=await g.getImage(a.value.name),o.image=a.value.name}});function l(){const s=N.safeParse(o);s.success&&d("submit",s.data)}function u(){o.name="",Object.assign(o,r.modelValue)}L(()=>{u()});const k=n(void 0);return n(void 0),n(void 0),(s,c)=>{const R=A;return _(),P(h,{flat:""},{default:t(()=>[e(v,null,{default:t(()=>[x("div",null,[e(R,{jsonable:m(o)},null,8,["jsonable"]),e(W,{ref_key:"profileForm",ref:k,class:"space-y-2",onReset:u,onSubmit:l},{default:t(()=>[e(O,{modelValue:m(o).name,"onUpdate:modelValue":c[0]||(c[0]=p=>m(o).name=p),label:"Name",required:"",standout:"bg-primary text-secondary"},null,8,["modelValue"]),e(X,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=p=>a.value=p),standout:"bg-primary text-secondary"},{prepend:t(()=>[e(T,{name:"attach_file"})]),append:t(()=>[e(q,{size:"50px",round:""},{default:t(()=>[e($,{ratio:"1",src:i.value||m(f)},null,8,["src"])]),_:1})]),_:1},8,["modelValue"]),x("div",G,[e(V,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),e(V,{type:"submit",label:"Submit",color:"primary"})])]),_:1},512)])]),_:1})]),_:1})}}});var S={};const Y={class:"md:w-1/2 mx-auto"},Z=F(" Settings "),ee=F(" Current Profile "),ae=I({setup(b){const{getActiveProfile:d}=B(),r=z(),o=n();D(()=>{const a=d();a&&(o.value=a)}),J();function f(a){const l=(y.getItem(Q.PROFILES)||[]).filter(u=>u.id!==a.id);l.push(a),y.setItem(Q.PROFILES,l),r.notify({type:"positive",message:"Profile Updated"})}return(a,i)=>{const l=H;return _(),K("div",Y,[e(w,null,{default:t(()=>[e(j,null,{default:t(()=>[Z]),_:1})]),_:1}),e(h,{flat:""},{default:t(()=>[e(v,null,{default:t(()=>[e(w,{class:"text-white bg-primary"},{default:t(()=>[e(j,null,{default:t(()=>[ee]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[o.value?(_(),P(l,{key:0,"model-value":o.value,onSubmit:f},null,8,["model-value"])):M("",!0)]),_:1})]),_:1})])}}});typeof S=="function"&&S(ae);export{ae as default};
