import{u as R,i as g,P as B,b as N,c as U,s as y,S as P}from"./index.3e6f5067.js";import{d as Q,i as A,r as n,U as O,e as T,o as _,f as I,n as t,p as e,a as x,u as m,Y as q,a7 as D,a8 as E,Q as L,B as V,N as v,P as h,k as $,l as z,j as G,c as J,X as S,G as j,S as K,D as F}from"./vendor.2cf8fbd6.js";import{Q as M,a as X}from"./QForm.8e0a2642.js";const Y={class:"flex justify-end pt-4 space-x-2"},H=Q({props:{modelValue:{default:{image:"",nickname:"",color:"",hobby:"",dateofbirth:""}}},emits:["submit"],setup(b,{emit:d}){const r=b,o=A(Object.assign({},r.modelValue)),{profileImage:f}=R(),a=n(),i=n();O(a,()=>{const s=new FileReader;s.readAsDataURL(a.value),s.onload=async()=>{await g.setImage(a.value.name,s.result),i.value=await g.getImage(a.value.name),o.image=a.value.name}});function l(){const s=B.safeParse(o);s.success&&d("submit",s.data)}function u(){o.name="",Object.assign(o,r.modelValue)}T(()=>{u()});const w=n(void 0);return n(void 0),n(void 0),(s,c)=>{const C=N;return _(),I(h,{flat:""},{default:t(()=>[e(v,null,{default:t(()=>[x("div",null,[e(C,{jsonable:m(o)},null,8,["jsonable"]),e(M,{ref_key:"profileForm",ref:w,class:"space-y-2",onReset:u,onSubmit:l},{default:t(()=>[e(q,{modelValue:m(o).name,"onUpdate:modelValue":c[0]||(c[0]=p=>m(o).name=p),label:"Name",required:"",standout:"bg-primary text-secondary"},null,8,["modelValue"]),e(X,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=p=>a.value=p),standout:"bg-primary text-secondary"},{prepend:t(()=>[e(D,{name:"attach_file"})]),append:t(()=>[e(E,{size:"50px",round:""},{default:t(()=>[e(L,{ratio:"1",src:i.value||m(f)},null,8,["src"])]),_:1})]),_:1},8,["modelValue"]),x("div",Y,[e(V,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),e(V,{type:"submit",label:"Submit",color:"primary"})])]),_:1},512)])]),_:1})]),_:1})}}});var k={};const W={class:"md:w-1/2 mx-auto"},Z=F(" Settings "),ee=F(" Current Profile "),ae=Q({setup(b){const{getActiveProfile:d}=U(),r=$(),o=n();z(()=>{const a=d.value;a&&(o.value=a)}),G();function f(a){const l=(y.getItem(P.PROFILES)||[]).filter(u=>u.id!==a.id);l.push(a),y.setItem(P.PROFILES,l),r.notify({type:"positive",message:"Profile Updated"})}return(a,i)=>{const l=H;return _(),J("div",W,[e(j,null,{default:t(()=>[e(S,null,{default:t(()=>[Z]),_:1})]),_:1}),e(h,{flat:""},{default:t(()=>[e(v,null,{default:t(()=>[e(j,{class:"text-white bg-primary"},{default:t(()=>[e(S,null,{default:t(()=>[ee]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[o.value?(_(),I(l,{key:0,"model-value":o.value,onSubmit:f},null,8,["model-value"])):K("",!0)]),_:1})]),_:1})])}}});typeof k=="function"&&k(ae);export{ae as default};
