import{d as V,D as R,W as k,n as r,p as C,X as x,Y as U,F as v,w as t,b as e,a as d,e as m,Z as j,$ as B,S as N,a0 as O,h,a1 as g,a2 as w,a3 as $,a4 as A,o as b,J as T,a5 as q,v as D,u as L,f as M,g as E,a6 as J,O as z,U as K,a7 as I,a8 as P}from"./index.a9189950.js";import{Q as W,a as X}from"./QForm.2ec3a150.js";import{_ as Y}from"./Banner.110f76b4.js";const Z={class:"flex justify-end pt-4 space-x-2"},G=V({props:{modelValue:{default:{image:"",nickname:"",color:"",hobby:"",dateofbirth:""}}},emits:["submit"],setup(y,{emit:f}){const u=y,s=R(Object.assign({},u.modelValue)),{profileImage:p}=k(),a=r(),i=r();C(a,()=>{const o=new FileReader;o.readAsDataURL(a.value),o.onload=async()=>{await x.setImage(a.value.name,o.result),i.value=await x.getImage(a.value.name),s.image=a.value.name}});function l(){const o=$.safeParse(s);o.success&&f("submit",o.data)}function n(){s.name="",Object.assign(s,u.modelValue)}U(()=>{n()});const F=r(void 0);return r(void 0),r(void 0),(o,c)=>{const S=A;return b(),v(w,{flat:""},{default:t(()=>[e(g,null,{default:t(()=>[d("div",null,[e(S,{jsonable:m(s)},null,8,["jsonable"]),e(W,{ref_key:"profileForm",ref:F,class:"space-y-2",onReset:n,onSubmit:l},{default:t(()=>[e(j,{modelValue:m(s).name,"onUpdate:modelValue":c[0]||(c[0]=_=>m(s).name=_),label:"Name",required:"",standout:"bg-primary text-secondary"},null,8,["modelValue"]),e(X,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=_=>a.value=_),standout:"bg-primary text-secondary"},{prepend:t(()=>[e(B,{name:"attach_file"})]),append:t(()=>[e(N,{size:"50px",round:""},{default:t(()=>[e(O,{ratio:"1",src:i.value||m(p)},null,8,["src"])]),_:1})]),_:1},8,["modelValue"]),d("div",Z,[e(h,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),e(h,{type:"submit",label:"Submit",color:"primary"})])]),_:1},512)])]),_:1})]),_:1})}}}),H=d("h1",{class:"font-bold text-2xl sm:text-3xl"}," Settings ",-1),ee=d("p",{class:"text-base sm:text-lg"}," Manage profiles and other configurable aspects of your Reward Me app here ",-1),ae=K(" Profile "),te=V({setup(y){const{getActiveProfile:f}=T(),u=q(),s=r();D(()=>{const a=f.value;a&&(s.value=a)}),L();function p(a){const l=(I.getItem(P.PROFILES)||[]).filter(n=>n.id!==a.id);l.push(a),I.setItem(P.PROFILES,l),u.notify({type:"positive",message:"Profile Updated"})}return(a,i)=>{const l=Y,n=G;return b(),v(z,{class:"xl:w-2/3 md:mx-auto space-y-2"},{default:t(()=>[e(l,null,{default:t(()=>[H,ee]),_:1}),e(w,{flat:""},{default:t(()=>[e(g,null,{default:t(()=>[e(M,{class:"text-white bg-primary"},{default:t(()=>[e(E,null,{default:t(()=>[ae]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[s.value?(b(),v(n,{key:0,"model-value":s.value,onSubmit:p},null,8,["model-value"])):J("",!0)]),_:1})]),_:1})]),_:1})}}}),Q={};typeof Q=="function"&&Q(te);export{te as default};
