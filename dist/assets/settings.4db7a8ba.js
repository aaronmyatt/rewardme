import{d as V,D as S,a7 as k,m as i,t as j,a8 as x,a9 as B,o as g,T as b,w as t,b as e,a as d,e as o,aa as C,B as N,ab as T,a3 as U,ac as A,h as P,ad as v,ae as w,af as O,ag as $,X as q,ah as D,ai as L,u as M,f as E,g as z,a5 as J,aj as K,a0 as X,ak as h,al as I}from"./index.58ebc28d.js";import{Q as G,a as H}from"./QForm.664dec09.js";import{_ as W}from"./Banner.dd4b3d1c.js";const Y={class:"flex justify-end pt-4 space-x-2"},Z=V({__name:"ProfileForm",props:{modelValue:{default:{image:"",nickname:"",color:"",hobby:"",dateofbirth:""}}},emits:["submit"],setup(y,{emit:f}){const u=y,s=S(Object.assign({},u.modelValue)),{profileImage:p}=k(),a=i(),m=i();j(a,()=>{const l=new FileReader;l.readAsDataURL(a.value),l.onload=async()=>{await x.setImage(a.value.name,l.result),m.value=await x.getImage(a.value.name),s.image=a.value.name}});function n(){const l=O.safeParse(s);l.success&&f("submit",l.data)}function r(){s.name="",Object.assign(s,u.modelValue)}B(()=>{r()});const F=i(void 0);return i(void 0),i(void 0),(l,c)=>{const R=$;return g(),b(w,{flat:""},{default:t(()=>[e(v,null,{default:t(()=>[d("div",null,[e(R,{jsonable:o(s)},null,8,["jsonable"]),e(G,{ref_key:"profileForm",ref:F,class:"space-y-2",onReset:r,onSubmit:n},{default:t(()=>[e(C,{modelValue:o(s).name,"onUpdate:modelValue":c[0]||(c[0]=_=>o(s).name=_),label:"Name",required:"",standout:"bg-primary text-secondary"},null,8,["modelValue"]),e(H,{modelValue:o(a),"onUpdate:modelValue":c[1]||(c[1]=_=>N(a)?a.value=_:null),standout:"bg-primary text-secondary"},{prepend:t(()=>[e(T,{name:"attach_file"})]),append:t(()=>[e(U,{size:"50px",round:""},{default:t(()=>[e(A,{ratio:"1",src:o(m)||o(p)},null,8,["src"])]),_:1})]),_:1},8,["modelValue"]),d("div",Y,[e(P,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),e(P,{type:"submit",label:"Submit",color:"primary"})])]),_:1},512)])]),_:1})]),_:1})}}}),ee=d("h1",{class:"font-bold text-2xl sm:text-3xl"}," Settings ",-1),ae=d("p",{class:"text-base sm:text-lg"}," Manage profiles and other configurable aspects of your Reward Me app here ",-1),te=V({__name:"settings",setup(y){const{getActiveProfile:f}=q(),u=D(),s=i();L(()=>{const a=f.value;a&&(s.value=a)}),M();function p(a){const n=(h.getItem(I.PROFILES)||[]).filter(r=>r.id!==a.id);n.push(a),h.setItem(I.PROFILES,n),u.notify({type:"positive",message:"Profile Updated"})}return(a,m)=>{const n=W,r=Z;return g(),b(X,{class:"xl:w-2/3 md:mx-auto space-y-2"},{default:t(()=>[e(n,null,{default:t(()=>[ee,ae]),_:1}),e(w,{flat:""},{default:t(()=>[e(v,null,{default:t(()=>[e(E,{class:"text-white bg-primary"},{default:t(()=>[e(z,null,{default:t(()=>[J(" Profile ")]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[o(s)?(g(),b(r,{key:0,"model-value":o(s),onSubmit:p},null,8,["model-value"])):K("",!0)]),_:1})]),_:1})]),_:1})}}}),Q={};typeof Q=="function"&&Q(te);export{te as default};
