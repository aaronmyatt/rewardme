import{am as P,n as a,N as x,ba as Q,an as L,ao as V,ap as F,aq as E,as as j,d as R,W as N,o as r,T as s,w as i,a as m,b as v,e as d,ah as A,m as M,be as T,h as B,aj as u,ad as k,bf as $,ac as U,c as S,U as q,ae as W,a8 as X}from"./index.a953e485.js";import{a as G,_ as H}from"./star.f548e942.js";const J=["top","middle","bottom"],K=P({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>J.includes(e)}},setup(e,{slots:t}){const l=a(()=>e.align!==void 0?{verticalAlign:e.align}:null),c=a(()=>{const n=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(n!==void 0?` text-${n}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>x("div",{class:c.value,style:l.value,role:"status","aria-label":e.label},Q(t.default,e.label!==void 0?[e.label]:[]))}}),O={xs:2,sm:4,md:6,lg:10,xl:14};function _(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Y=P({name:"QLinearProgress",props:{...L,...V,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=j(),c=F(e,l.$q),n=E(e,O),g=a(()=>e.indeterminate===!0||e.query===!0),b=a(()=>e.reverse!==e.query),w=a(()=>({...n.value!==null?n.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),o=a(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),f=a(()=>_(e.buffer!==void 0?e.buffer:1,b.value,l.$q)),C=a(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${c.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),y=a(()=>_(g.value===!0?1:e.value,b.value,l.$q)),h=a(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${g.value===!0?"in":""}determinate`),D=a(()=>({width:`${e.value*100}%`})),I=a(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const z=[x("div",{class:C.value,style:f.value}),x("div",{class:h.value,style:y.value})];return e.stripe===!0&&g.value===!1&&z.push(x("div",{class:I.value,style:D.value})),x("div",{class:o.value,style:w.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Q(t.default,z))}}}),Z={class:"absolute-full flex flex-center"},p=R({__name:"RewardProgress",props:{value:{default:0},size:{default:"25px"},label:String,barColor:{default:"green"},badgeColor:{default:"accent"}},setup(e){const t=e,{availablePoints:l}=N(),c=a(()=>l.value/t.value),n=a(()=>t.label||`${l.value} / ${t.value}`);return(g,b)=>(r(),s(Y,{size:e.size||"25px",value:d(c),color:e.barColor,rounded:""},{default:i(()=>[m("div",Z,[v(K,{color:"white","text-color":e.badgeColor,label:d(n)},null,8,["text-color","label"])])]),_:1},8,["size","value","color"]))}}),ee={key:0,class:"text-xs sm:text-base md:text-xl absolute bottom-0 left-0 text-left capitalize"},ae={class:"space-x-4 flex"},te={class:"name"},le={key:0,class:"text-base md:text-xl"},re={class:"text-xl md:text-2xl text-left capitalize reward-name-container"},ne={class:"space-x-4 flex"},oe={class:"name"},se={class:"text-base md:text-xl"},ce=R({__name:"RewardCard",props:{reward:null,editable:{type:Boolean,default:!0},horizontal:{type:Boolean},showProgress:{type:Boolean,default:!0}},setup(e){const t=e,l=A(),{claimReward:c,availablePoints:n,claimable:g}=N(),b=M("");T(async()=>{if(t.reward.image!==void 0){const o=await X.getImage(t.reward.image);o&&(b.value=o)}});const w=a(()=>{const o=t.reward.milestone;return`${n.value>o?o:n.value} / ${o}`});return(o,f)=>{const C=G,y=H,h=p;return r(),s(W,{class:"rounded-xl"},{default:i(()=>[v(k,{horizontal:e.horizontal,class:"p-0"},{default:i(()=>[e.editable?(r(),s(B,{key:0,class:"absolute right-0 z-50 rounded-none rounded-tr-xl","fab-mini":d(l).screen.lt.sm,fab:d(l).screen.gt.xs,color:"primary",to:{name:"rewards-rewardid-edit",params:{rewardid:t.reward.id}}},{default:i(()=>[v(C)]),_:1},8,["fab-mini","fab","to"])):u("",!0),v(k,{class:$(["col-4",{"p-0":!e.horizontal}])},{default:i(()=>[v(U,{class:$(["rounded-xl",{"rounded-b-none":e.reward.claimed}]),ratio:1,src:d(b),"spinner-color":"primary","spinner-size":"82px"},{default:i(()=>[e.horizontal?u("",!0):(r(),S("div",ee,[m("div",ae,[m("div",te,q(e.reward.name),1),e.reward.claimed?(r(),s(y,{key:0,class:"claimed text-yellow-400 fill-yellow-400"})):u("",!0)]),e.showProgress?(r(),S("div",le,q(d(w)),1)):u("",!0)]))]),_:1},8,["src","class"])]),_:1},8,["class"]),e.horizontal?(r(),s(k,{key:1,class:"col-8 flex items-center p-0"},{default:i(()=>[m("div",re,[m("div",ne,[m("div",oe,q(e.reward.name),1),e.reward.claimed?(r(),s(y,{key:0,class:"claimed text-yellow-400 fill-yellow-400"})):u("",!0)]),m("div",se,q(d(w)),1)])]),_:1})):u("",!0)]),_:1},8,["horizontal"]),e.showProgress?(r(),s(k,{key:0,class:$({"p-0 rounded-b-xl":e.horizontal})},{default:i(()=>[d(g)(e.reward)?(r(),s(B,{key:0,class:"w-full",padding:"0px",flat:"",onClick:f[0]||(f[0]=()=>d(c)(e.reward))},{default:i(()=>[v(h,{value:e.reward.milestone,label:e.reward.claimed?"Reset":"Redeem",size:"30px","bar-color":e.reward.claimed?"accent":"green","badge-color":e.reward.claimed?"green":"accent"},null,8,["value","label","bar-color","badge-color"])]),_:1})):(r(),s(h,{key:1,value:e.reward.milestone,label:e.reward.claimed?"Reset":"",size:"30px","bar-color":e.reward.claimed?"accent":"green","badge-color":e.reward.claimed?"green":"accent"},null,8,["value","label","bar-color","badge-color"]))]),_:1},8,["class"])):u("",!0)]),_:1})}}});export{ce as _};
