var Pe=Object.defineProperty,Se=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var G=(e,t,a)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,w=(e,t)=>{for(var a in t||(t={}))ke.call(t,a)&&G(e,a,t[a]);if(J)for(var a of J(t))we.call(t,a)&&G(e,a,t[a]);return e},N=(e,t)=>Se(e,qe(t));import{i as Z,P as ee,b as Ae,c as Ie}from"./index.756f4b73.js";import{a9 as $,r as P,S as f,ag as d,a7 as te,s as Ne,ai as Ve,af as K,aH as Te,aI as V,aJ as Be,aK as $e,aL as Q,aM as R,aN as ne,aj as U,aO as Qe,aP as L,a6 as W,aA as ae,aQ as De,aR as re,aS as je,az as A,aF as Fe,aT as oe,aU as Ee,aa as Ke,ac as Re,ax as Ue,aV as Le,ae as We,z as D,d as ie,i as ze,e as Me,o as j,f as z,w as S,m as _,a as F,u as M,aW as se,X as Oe,Q as Xe,R as le,aX as ue,L as He,N as Ye,j as Je,c as Ge,W as Ze,E as et,A as tt}from"./vendor.e940c656.js";import{Q as nt,a as at}from"./QForm.426ff488.js";var ce=$({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:a}}=K(),c=P(null),o=f(()=>e.stepper.modelValue===e.step.name),n=f(()=>{const l=e.step.disable;return l===!0||l===""}),r=f(()=>{const l=e.step.error;return l===!0||l===""}),s=f(()=>{const l=e.step.done;return n.value===!1&&(l===!0||l==="")}),m=f(()=>{const l=e.step.headerNav,b=l===!0||l===""||l===void 0;return n.value===!1&&e.stepper.headerNav&&b}),C=f(()=>e.step.prefix&&o.value===!1&&r.value===!1&&s.value===!1),p=f(()=>o.value===!0?e.step.activeIcon||e.stepper.activeIcon||a.iconSet.stepper.active:r.value===!0?e.step.errorIcon||e.stepper.errorIcon||a.iconSet.stepper.error:n.value===!1&&s.value===!0?e.step.doneIcon||e.stepper.doneIcon||a.iconSet.stepper.done:e.step.icon||e.stepper.inactiveIcon),v=f(()=>{const l=r.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const b=e.step.activeColor||e.stepper.activeColor||e.step.color;return b!==void 0?b:l}return l!==void 0?l:n.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),u=f(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(v.value!==void 0?` text-${v.value}`:"")+(r.value===!0?" q-stepper__tab--error":"")+(o.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(m.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(n.value===!0?" q-stepper__tab--disabled":"")),y=f(()=>e.stepper.headerNav!==!0?!1:m.value);function h(){c.value!==null&&c.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function q(l){l.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const l={class:u.value};m.value===!0&&(l.onClick=h,l.onKeyup=q,Object.assign(l,n.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const b=[d("div",{class:"q-focus-helper",tabindex:-1,ref:c}),d("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[d("span",{class:"row flex-center"},[C.value===!0?e.step.prefix:d(te,{name:p.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const k=[d("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&k.push(d("div",{class:"q-stepper__caption"},e.step.caption)),b.push(d("div",{class:"q-stepper__label q-stepper__line relative-position"},k))}return Ne(d("div",l,b),[[Ve,y.value]])}}});const O={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},rt=Object.keys(O);O.all=!0;function de(e){const t={};for(const a of rt)e[a]===!0&&(t[a]=!0);return Object.keys(t).length===0?O:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function ve(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function ot(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,c)=>{const o=parseFloat(a);o&&(t[c]=o)}),t}var it=Te({name:"touch-swipe",beforeMount(e,{value:t,arg:a,modifiers:c}){if(c.mouse!==!0&&V.has.touch!==!0)return;const o=c.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:ot(a),direction:de(c),noop:Be,mouseStart(r){ve(r,n)&&$e(r)&&(Q(n,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(r,!0))},touchStart(r){if(ve(r,n)){const s=r.target;Q(n,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),n.start(r)}},start(r,s){V.is.firefox===!0&&R(e,!0);const m=ne(r);n.event={x:m.left,y:m.top,time:Date.now(),mouse:s===!0,dir:!1}},move(r){if(n.event===void 0)return;if(n.event.dir!==!1){U(r);return}const s=Date.now()-n.event.time;if(s===0)return;const m=ne(r),C=m.left-n.event.x,p=Math.abs(C),v=m.top-n.event.y,u=Math.abs(v);if(n.event.mouse!==!0){if(p<n.sensitivity[1]&&u<n.sensitivity[1]){n.end(r);return}}else if(p<n.sensitivity[2]&&u<n.sensitivity[2])return;const y=p/s,h=u/s;n.direction.vertical===!0&&p<u&&p<100&&h>n.sensitivity[0]&&(n.event.dir=v<0?"up":"down"),n.direction.horizontal===!0&&p>u&&u<100&&y>n.sensitivity[0]&&(n.event.dir=C<0?"left":"right"),n.direction.up===!0&&p<u&&v<0&&p<100&&h>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&p<u&&v>0&&p<100&&h>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&p>u&&C<0&&u<100&&y>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&p>u&&C>0&&u<100&&y>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(U(r),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Qe(),n.styleCleanup=q=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const l=()=>{document.body.classList.remove("no-pointer-events--children")};q===!0?setTimeout(l,50):l()}),n.handler({evt:r,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:s,distance:{x:p,y:u}})):n.end(r)},end(r){n.event!==void 0&&(L(n,"temp"),V.is.firefox===!0&&R(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(!0),r!==void 0&&n.event.dir!==!1&&U(r),n.event=void 0)}};e.__qtouchswipe=n,c.mouse===!0&&Q(n,"main",[[e,"mousedown","mouseStart",`passive${o}`]]),V.has.touch===!0&&Q(n,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const a=e.__qtouchswipe;a!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&a.end(),a.handler=t.value),a.direction=de(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(L(t,"main"),L(t,"temp"),V.is.firefox===!0&&R(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function pe(){const e=new Map;return{getCache:function(t,a){return e[t]===void 0?e[t]=a:e[t]},getCacheWithFn:function(t,a){return e[t]===void 0?e[t]=a():e[t]}}}const st={name:{required:!0},disable:Boolean},fe={setup(e,{slots:t}){return()=>d("div",{class:"q-panel scroll",role:"tabpanel"},A(t.default))}},lt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ut=["update:modelValue","before-transition","transition"];function ct(){const{props:e,emit:t,proxy:a}=K(),{getCacheWithFn:c}=pe();let o,n;const r=P(null),s=P(null);function m(i){const g=e.vertical===!0?"up":"left";I((a.$q.lang.rtl===!0?-1:1)*(i.direction===g?1:-1))}const C=f(()=>[[it,m,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=f(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=f(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),u=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=f(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),h=f(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),q=f(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);W(()=>e.modelValue,(i,g)=>{const x=T(i)===!0?E(i):-1;n!==!0&&X(x===-1?0:x<E(g)?-1:1),r.value!==x&&(r.value=x,t("before-transition",i,g),ae(()=>{t("transition",i,g)}))});function l(){I(1)}function b(){I(-1)}Object.assign(a,{next:l,previous:b,goTo:k});function k(i){t("update:modelValue",i)}function T(i){return i!=null&&i!==""}function E(i){return o.findIndex(g=>g.props.name===i&&g.props.disable!==""&&g.props.disable!==!0)}function _e(){return o.filter(i=>i.props.disable!==""&&i.props.disable!==!0)}function X(i){const g=i!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(i===-1?p.value:v.value):null;s.value!==g&&(s.value=g)}function I(i,g=r.value){let x=g+i;for(;x>-1&&x<o.length;){const B=o[x];if(B!==void 0&&B.props.disable!==""&&B.props.disable!==!0){X(i),n=!0,t("update:modelValue",B.props.name),setTimeout(()=>{n=!1});return}x+=i}e.infinite===!0&&o.length>0&&g!==-1&&g!==o.length&&I(i,i===-1?o.length:-1)}function H(){const i=E(e.modelValue);return r.value!==i&&(r.value=i),!0}function Y(){const i=T(e.modelValue)===!0&&H()&&o[r.value];return e.keepAlive===!0?[d(re,h.value,[d(q.value===!0?c(y.value,()=>N(w({},fe),{name:y.value})):fe,{key:y.value,style:u.value},()=>i)])]:[d("div",{class:"q-panel scroll",style:u.value,key:y.value,role:"tabpanel"},[i])]}function ye(){if(o.length!==0)return e.animated===!0?[d(De,{name:s.value},Y)]:Y()}function Ce(i){return o=je(A(i.default,[])).filter(g=>g.props!==null&&g.props.slot===void 0&&T(g.props.name)===!0),o.length}function xe(){return o}return{panelIndex:r,panelDirectives:C,updatePanelsList:Ce,updatePanelIndex:H,getPanelContent:ye,getEnabledPanels:_e,getPanels:xe,isValidPanelName:T,keepAliveProps:h,needsUniqueKeepAliveWrapper:q,goToPanelByOffset:I,goToPanel:k,nextPanel:l,previousPanel:b}}function me(e){return d("div",{class:"q-stepper__step-content"},[d("div",{class:"q-stepper__step-inner"},A(e.default))])}const ge={setup(e,{slots:t}){return()=>me(t)}};var he=$({name:"QStep",props:N(w({},st),{icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean}),setup(e,{slots:t}){const a=Fe(oe,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:c}=pe(),o=P(null),n=f(()=>a.value.modelValue===e.name);W(n,m=>{m===!0&&a.value.vertical===!0&&ae(()=>{o.value!==null&&(o.value.scrollTop=0)})});const r=f(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function s(){const m=a.value.vertical;return m===!0&&a.value.keepAlive===!0?d(re,a.value.keepAliveProps.value,n.value===!0?[d(a.value.needsUniqueKeepAliveWrapper.value===!0?c(r.value,()=>N(w({},ge),{name:r.value})):ge,{key:r.value},t.default)]:void 0):m!==!0||n.value===!0?me(t):void 0}return()=>d("div",{ref:o,class:"q-stepper__step"},a.value.vertical===!0?[d(ce,{stepper:a.value,step:e,goToPanel:a.value.goToPanel}),a.value.animated===!0?d(Ee,s):s()]:[s()])}});const dt=/(-\w)/g;function vt(e){const t={};for(const a in e){const c=a.replace(dt,o=>o[1].toUpperCase());t[c]=e[a]}return t}var pt=$({name:"QStepper",props:N(w(w({},Ke),lt),{flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String}),emits:ut,setup(e,{slots:t}){const a=K(),c=Re(e,a.proxy.$q),{updatePanelsList:o,isValidPanelName:n,updatePanelIndex:r,getPanelContent:s,getPanels:m,panelDirectives:C,goToPanel:p,keepAliveProps:v,needsUniqueKeepAliveWrapper:u}=ct();Ue(oe,f(()=>w({goToPanel:p,keepAliveProps:v,needsUniqueKeepAliveWrapper:u},e)));const y=f(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||c.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||c.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(c.value===!0?" q-stepper--dark q-dark":"")),h=f(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function q(){const l=A(t.message,[]);if(e.vertical===!0){n(e.modelValue)&&r();const b=d("div",{class:"q-stepper__content"},A(t.default));return l===void 0?[b]:l.concat(b)}return[d("div",{class:h.value},m().map(b=>{const k=vt(b.props);return d(ce,{key:k.name,stepper:e,step:k,goToPanel:p})})),l,We("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>C.value)]}return()=>(o(t),d("div",{class:y.value},Le(t.navigation,q())))}}),ft=$({name:"QStepperNavigation",setup(e,{slots:t}){return()=>d("div",{class:"q-stepper__nav"},A(t.default))}});const be={props:["step","backFunc","nextFunc"],render(){const e=d(D,{onClick:this.backFunc,label:"Back",flat:!0,color:"primary"}),t=d(D,{onClick:this.nextFunc,label:"Continue",color:"primary"});return d(ft,{class:"flex justify-end mt-5 space-x-2"},()=>[this.step>1?e:void 0,this.step<2?t:void 0])}},mt={class:"flex flex-col justify-center space-y-2"},gt={class:"flex justify-end pt-4 space-x-2"},ht=ie({emits:["submit"],setup(e,{emit:t}){const a=ze({image:"",nickname:"",color:"",hobby:"",dateofbirth:""}),c=P(!1),o=P(),n=P(),r=P(1),s=P("");W(o,()=>{const v=new FileReader;v.readAsDataURL(o.value),v.onload=async()=>{await Z.setImage(o.value.name,v.result),n.value=await Z.getImage(o.value.name),a.image=o.value.name}});function m(){s.value="";const v=ee.safeParse(a);v.success?c.value=!0:(c.value=!0,r.value=1,s.value=v.error.issues[0].message)}function C(){const v=ee.safeParse(a);c.value&&v.success&&t("submit",v.data)}function p(){a.name="",Object.assign(a,{})}return Me(()=>{p()}),(v,u)=>{const y=Ae;return j(),z(Ye,{flat:""},{default:S(()=>[_(He,null,{default:S(()=>[F("div",null,[_(y,{jsonable:M(a)},null,8,["jsonable"]),_(nt,{ref:"profileForm",class:"relative",onReset:p},{default:S(()=>[F("div",null,[_(pt,{ref:"stepper",modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=h=>r.value=h),"header-nav":"",vertical:"",color:"primary",animated:"",onKeydown:u[3]||(u[3]=se(ue(h=>v.$refs.stepper.next(),["prevent"]),["enter"])),onTransition:m},{default:S(()=>[_(he,{name:1,title:"What's your name?",icon:"person_outline",error:!!s.value},{default:S(()=>[_(Oe,{modelValue:M(a).name,"onUpdate:modelValue":u[0]||(u[0]=h=>M(a).name=h),label:"Name",required:"",autofocus:"",error:!!s.value,"error-message":s.value,"bg-color":"secondary","label-color":"primary"},null,8,["modelValue","error","error-message"]),_(be,{step:r.value,"back-func":()=>v.$refs.stepper.previous(),"next-func":()=>v.$refs.stepper.next()},null,8,["step","back-func","next-func"])]),_:1},8,["error"]),_(he,{name:2,title:"Add a picture",caption:"Optional",icon:"photo_camera",class:""},{default:S(()=>[F("div",mt,[n.value?(j(),z(Xe,{key:0,src:n.value},null,8,["src"])):le("",!0),_(at,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=h=>o.value=h),outlined:""},{prepend:S(()=>[_(te,{name:"attach_file"})]),_:1},8,["modelValue"])]),_(be,{step:r.value,"back-func":()=>v.$refs.stepper.previous(),"next-func":()=>v.$refs.stepper.next()},null,8,["step","back-func","next-func"])]),_:1})]),_:1},8,["modelValue"])]),F("div",gt,[_(D,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),c.value?(j(),z(D,{key:0,label:"Submit",color:"primary",onClick:C,onKeydown:u[4]||(u[4]=se(ue(()=>{},["prevent","stop"]),["enter"]))})):le("",!0)])]),_:1},512)])]),_:1})]),_:1})}}}),bt={class:"w-full md:w-1/2 mx-auto"},_t=tt(" New Profile "),St=ie({setup(e){const t=Je(),{setActiveProfile:a,profiles:c}=Ie();function o(n){c.push(n),a(n),t.push("/profiles")}return(n,r)=>{const s=ht;return j(),Ge("div",bt,[_(et,null,{default:S(()=>[_(Ze,null,{default:S(()=>[_t]),_:1})]),_:1}),_(s,{onSubmit:o})])}}});export{St as default};
